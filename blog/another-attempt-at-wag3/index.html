<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage" data-theme="light">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>
    
    Another Attempt at Wag3 - Everyone Has a Story
    </title>
  


<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes" />


<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />


<meta name="applicable-device" content="pc,mobile">
<meta name="color-scheme" content="light dark" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">


<meta name="generator" content="Hugo 0.144.2" />


<link rel="canonical" href="https://19051992.xyz/blog/another-attempt-at-wag3/" />




<meta name="author" content="Bhavesh S. Gupta" />
<meta name="description" content="Until now we had done as of following code. We would create couples of more functions which would help us in managing our application. As discussed earlier we would now we creating different directories and files present inside .git directory along with directory itself. More or less we would something like following directory structure after doing wag init
.git is the git directory itself, which contains: .git/objects/ : the object store, which we’ll introduce in the next section. .git/refs/ the reference store, which we’ll discuss . It contains two subdirectories, heads and tags. .git/HEAD, a reference to the current HEAD (more on that later!) .git/config, the repository’s configuration file. .git/description, the repository’s description file. Copy1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 import sys import argparse import os argparser = argparse.ArgumentParser(description=&#34;Another Content Tracker&#34;) argsubparsers = argparser.add_subparsers(title=&#34;Commands&#34;, dest=&#34;command&#34;) argsubparsers.required = True argsp = argsubparsers.add_parser( &#34;init&#34;, help=&#34;Initialize a new, empty repository.&#34;) argsp.add_argument(&#34;path&#34;, metavar=&#34;directory&#34;, nargs=&#34;?&#34;, default=&#34;.&#34;, help=&#34;Where to create the repository.&#34;) def main(argv=sys.argv[1:]): args = argparser.parse_args(argv) if args.command == &#34;init&#34;: cmd_init(args) def cmd_init(args): repo_create(args.path) class GitRepository(object): &#34;&#34;&#34;A git repository&#34;&#34;&#34; worktree = None gitdir = None def __init__(self, path, force=False): self.worktree = path self.gitdir = os.path.join(path, &#34;.git&#34;) def repo_create(path): &#34;&#34;&#34;Create a new repository at path.&#34;&#34;&#34; repo = GitRepository(path) # We check whether there exsits a path of worktree if os.path.exists(repo.worktree): # if path exsits its a directory or not if not os.path.isdir(repo.worktree): raise Exception(&#34;%s is not a directory!&#34; % path) # if path exsits its empty or not if os.listdir(repo.worktree): raise Exception(&#34;%s is not empty!&#34; % path) else: # Create directory as nothing exist with same path os.makedirs(repo.worktree) Now let&rsquo;s create function which would gives us path of directory after verifying that the directory exist and if it doesn&rsquo;t it should gives us an error. We would also require mechanism to check whether we need to create the directory or not if it doesn&rsquo;t exists.
" />





  






<meta name="keywords" content="wag, dgplug, git" />


<meta property="og:url" content="https://19051992.xyz/blog/another-attempt-at-wag3/">
  <meta property="og:site_name" content="Everyone Has a Story">
  <meta property="og:title" content="Another Attempt at Wag3">
  <meta property="og:description" content="Until now we had done as of following code. We would create couples of more functions which would help us in managing our application. As discussed earlier we would now we creating different directories and files present inside .git directory along with directory itself. More or less we would something like following directory structure after doing wag init
.git is the git directory itself, which contains: .git/objects/ : the object store, which we’ll introduce in the next section. .git/refs/ the reference store, which we’ll discuss . It contains two subdirectories, heads and tags. .git/HEAD, a reference to the current HEAD (more on that later!) .git/config, the repository’s configuration file. .git/description, the repository’s description file. Copy1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 import sys import argparse import os argparser = argparse.ArgumentParser(description=&#34;Another Content Tracker&#34;) argsubparsers = argparser.add_subparsers(title=&#34;Commands&#34;, dest=&#34;command&#34;) argsubparsers.required = True argsp = argsubparsers.add_parser( &#34;init&#34;, help=&#34;Initialize a new, empty repository.&#34;) argsp.add_argument(&#34;path&#34;, metavar=&#34;directory&#34;, nargs=&#34;?&#34;, default=&#34;.&#34;, help=&#34;Where to create the repository.&#34;) def main(argv=sys.argv[1:]): args = argparser.parse_args(argv) if args.command == &#34;init&#34;: cmd_init(args) def cmd_init(args): repo_create(args.path) class GitRepository(object): &#34;&#34;&#34;A git repository&#34;&#34;&#34; worktree = None gitdir = None def __init__(self, path, force=False): self.worktree = path self.gitdir = os.path.join(path, &#34;.git&#34;) def repo_create(path): &#34;&#34;&#34;Create a new repository at path.&#34;&#34;&#34; repo = GitRepository(path) # We check whether there exsits a path of worktree if os.path.exists(repo.worktree): # if path exsits its a directory or not if not os.path.isdir(repo.worktree): raise Exception(&#34;%s is not a directory!&#34; % path) # if path exsits its empty or not if os.listdir(repo.worktree): raise Exception(&#34;%s is not empty!&#34; % path) else: # Create directory as nothing exist with same path os.makedirs(repo.worktree) Now let’s create function which would gives us path of directory after verifying that the directory exist and if it doesn’t it should gives us an error. We would also require mechanism to check whether we need to create the directory or not if it doesn’t exists.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2019-08-25T16:57:46+05:30">
    <meta property="article:modified_time" content="2019-08-25T16:57:46+05:30">
    <meta property="article:tag" content="Wag">
    <meta property="article:tag" content="Dgplug">
    <meta property="article:tag" content="Git">

  <meta itemprop="name" content="Another Attempt at Wag3">
  <meta itemprop="description" content="Until now we had done as of following code. We would create couples of more functions which would help us in managing our application. As discussed earlier we would now we creating different directories and files present inside .git directory along with directory itself. More or less we would something like following directory structure after doing wag init
.git is the git directory itself, which contains: .git/objects/ : the object store, which we’ll introduce in the next section. .git/refs/ the reference store, which we’ll discuss . It contains two subdirectories, heads and tags. .git/HEAD, a reference to the current HEAD (more on that later!) .git/config, the repository’s configuration file. .git/description, the repository’s description file. Copy1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 import sys import argparse import os argparser = argparse.ArgumentParser(description=&#34;Another Content Tracker&#34;) argsubparsers = argparser.add_subparsers(title=&#34;Commands&#34;, dest=&#34;command&#34;) argsubparsers.required = True argsp = argsubparsers.add_parser( &#34;init&#34;, help=&#34;Initialize a new, empty repository.&#34;) argsp.add_argument(&#34;path&#34;, metavar=&#34;directory&#34;, nargs=&#34;?&#34;, default=&#34;.&#34;, help=&#34;Where to create the repository.&#34;) def main(argv=sys.argv[1:]): args = argparser.parse_args(argv) if args.command == &#34;init&#34;: cmd_init(args) def cmd_init(args): repo_create(args.path) class GitRepository(object): &#34;&#34;&#34;A git repository&#34;&#34;&#34; worktree = None gitdir = None def __init__(self, path, force=False): self.worktree = path self.gitdir = os.path.join(path, &#34;.git&#34;) def repo_create(path): &#34;&#34;&#34;Create a new repository at path.&#34;&#34;&#34; repo = GitRepository(path) # We check whether there exsits a path of worktree if os.path.exists(repo.worktree): # if path exsits its a directory or not if not os.path.isdir(repo.worktree): raise Exception(&#34;%s is not a directory!&#34; % path) # if path exsits its empty or not if os.listdir(repo.worktree): raise Exception(&#34;%s is not empty!&#34; % path) else: # Create directory as nothing exist with same path os.makedirs(repo.worktree) Now let’s create function which would gives us path of directory after verifying that the directory exist and if it doesn’t it should gives us an error. We would also require mechanism to check whether we need to create the directory or not if it doesn’t exists.">
  <meta itemprop="datePublished" content="2019-08-25T16:57:46+05:30">
  <meta itemprop="dateModified" content="2019-08-25T16:57:46+05:30">
  <meta itemprop="wordCount" content="1278">
  <meta itemprop="keywords" content="wag,dgplug,git">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Another Attempt at Wag3">
  <meta name="twitter:description" content="Until now we had done as of following code. We would create couples of more functions which would help us in managing our application. As discussed earlier we would now we creating different directories and files present inside .git directory along with directory itself. More or less we would something like following directory structure after doing wag init
.git is the git directory itself, which contains: .git/objects/ : the object store, which we’ll introduce in the next section. .git/refs/ the reference store, which we’ll discuss . It contains two subdirectories, heads and tags. .git/HEAD, a reference to the current HEAD (more on that later!) .git/config, the repository’s configuration file. .git/description, the repository’s description file. Copy1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 import sys import argparse import os argparser = argparse.ArgumentParser(description=&#34;Another Content Tracker&#34;) argsubparsers = argparser.add_subparsers(title=&#34;Commands&#34;, dest=&#34;command&#34;) argsubparsers.required = True argsp = argsubparsers.add_parser( &#34;init&#34;, help=&#34;Initialize a new, empty repository.&#34;) argsp.add_argument(&#34;path&#34;, metavar=&#34;directory&#34;, nargs=&#34;?&#34;, default=&#34;.&#34;, help=&#34;Where to create the repository.&#34;) def main(argv=sys.argv[1:]): args = argparser.parse_args(argv) if args.command == &#34;init&#34;: cmd_init(args) def cmd_init(args): repo_create(args.path) class GitRepository(object): &#34;&#34;&#34;A git repository&#34;&#34;&#34; worktree = None gitdir = None def __init__(self, path, force=False): self.worktree = path self.gitdir = os.path.join(path, &#34;.git&#34;) def repo_create(path): &#34;&#34;&#34;Create a new repository at path.&#34;&#34;&#34; repo = GitRepository(path) # We check whether there exsits a path of worktree if os.path.exists(repo.worktree): # if path exsits its a directory or not if not os.path.isdir(repo.worktree): raise Exception(&#34;%s is not a directory!&#34; % path) # if path exsits its empty or not if os.listdir(repo.worktree): raise Exception(&#34;%s is not empty!&#34; % path) else: # Create directory as nothing exist with same path os.makedirs(repo.worktree) Now let’s create function which would gives us path of directory after verifying that the directory exist and if it doesn’t it should gives us an error. We would also require mechanism to check whether we need to create the directory or not if it doesn’t exists.">

<link rel="icon" href="/favicon.png" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">






<link rel="stylesheet" href="/css/style.min.ada4d2474f9a01e35272c7e1840ba05e4c511e6bfecb46f7eb197563aa307246.css" integrity="sha256-raTSR0&#43;aAeNScsfhhAugXkxRHmv&#43;y0b36xl1Y6owckY=" media="screen"
  crossorigin="anonymous">





<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->





<script>
  (function () {
    var savedTheme = localStorage.getItem('theme') || 'light';
    document.documentElement.setAttribute('data-theme', savedTheme);
  })();
</script>


</head>

<body>
  <div id="back-to-top"></div>

  <header class="site-header">
    
<div class="desktop-header">
  <div class="desktop-header-logo">
    <a href="/" class="logo">
      
      Everyone Has a Story
      
    </a>
  </div>

  <nav class="desktop-navbar">
    <ul id="menu" class="menu">
      
      
      <li class="menu-item">
        
        
        
        <a class="menu-item-link" href="https://19051992.xyz/">Home</a>
        

        

      </li>
      
      <li class="menu-item">
        
        
        
        <a class="menu-item-link" href="https://19051992.xyz/blog/">Blog</a>
        

        

      </li>
      
      <li class="menu-item">
        
        
        
        <a class="menu-item-link" href="https://19051992.xyz/tags/">Tags</a>
        

        

      </li>
      
      <li class="menu-item">
        
        
        
        <a class="menu-item-link" href="https://19051992.xyz/categories/">Categories</a>
        

        

      </li>
      
      <li class="menu-item">
        
        
        
        <a class="menu-item-link" href="https://19051992.xyz/about/">About</a>
        

        

      </li>
      

      
      

      

      <li class="menu-item">
        <a class="theme-toggle menu-item-link" href="javascript:void(0);">

          
<svg aria-hidden="true" class="lucide lucide-sun hi-svg-inline theme-icon-light" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>

          
<svg aria-hidden="true" class="lucide lucide-moon hi-svg-inline theme-icon-dark" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>

        </a>
      </li>

      <li class="menu-item">
        <a class="menu-item-link" href="https://19051992.xyz/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
          title="rss" target="_blank">
          
<svg aria-hidden="true" class="lucide lucide-rss hi-svg-inline icon--rss" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M4 11a9 9 0 0 1 9 9"/><path d="M4 4a16 16 0 0 1 16 16"/><circle cx="5" cy="19" r="1"/></svg>
        </a>
        
      </li>
    </ul>
  </nav>
</div>

    

<div class="mobile-header">
  <div id="mobile-navbar" class="mobile-navbar">
    <div id="mobile-navbar-icon" class="mobile-navbar-icon">
      
<svg aria-hidden="true" class="lucide lucide-menu hi-svg-inline icon--menu" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
    </div>
    <div class="mobile-navbar-logo">
      <a href="/" class="logo">Everyone Has a Story</a>
    </div>
  </div>

  <div id="mobile-menu-close-modal" class="mobile-menu-close-modal"></div>
  <nav id="mobile-menu" class="mobile-menu">
    <ul class="mobile-menu-list">
      <li class="mobile-menu-item">
        
        
        
        <a class="menu-item-link" href="https://19051992.xyz/">Home</a>
        
        
      </li><li class="mobile-menu-item">
        
        
        
        <a class="menu-item-link" href="https://19051992.xyz/blog/">Blog</a>
        
        
      </li><li class="mobile-menu-item">
        
        
        
        <a class="menu-item-link" href="https://19051992.xyz/tags/">Tags</a>
        
        
      </li><li class="mobile-menu-item">
        
        
        
        <a class="menu-item-link" href="https://19051992.xyz/categories/">Categories</a>
        
        
      </li><li class="mobile-menu-item">
        
        
        
        <a class="menu-item-link" href="https://19051992.xyz/about/">About</a>
        
        
      </li>
      

      

      <li class="mobile-menu-item">
        <a class="theme-toggle menu-item-link" href="javascript:void(0);">

          
<svg aria-hidden="true" class="lucide lucide-sun hi-svg-inline theme-icon-light" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>

          
<svg aria-hidden="true" class="lucide lucide-moon hi-svg-inline theme-icon-dark" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>

        </a>
      </li>

      <li class="mobile-menu-item">
        <a class="menu-item-link" href="https://19051992.xyz/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
          title="rss" target="_blank">
          
<svg aria-hidden="true" class="lucide lucide-rss hi-svg-inline icon--rss" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M4 11a9 9 0 0 1 9 9"/><path d="M4 4a16 16 0 0 1 16 16"/><circle cx="5" cy="19" r="1"/></svg>
        </a>
        
      </li>
    </ul>
  </nav>
</div>

  </header>

  

  



  <main id="main" class="main pico container">
    <div class="content-wrapper">
    <aside class="left-sidebar">
      



    </aside>

    <div id="content" class="content">
      <article class="post">
        
        <header class="post-header">
          <h1 class="post-title">Another Attempt at Wag3</h1>
          



          <div class="post-meta-list">
  <div class="post-meta-item post-meta-author">
    
<svg aria-hidden="true" class="lucide lucide-user-round-pen hi-svg-inline" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M2 21a8 8 0 0 1 10.821-7.487"/><path d="M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"/><circle cx="10" cy="8" r="5"/></svg>
    <a href="/about">
      <span class="post-meta-author-name">
        Bhavesh S. Gupta
      </span>
    </a>
    
  </div>

  <div class="post-meta-item post-meta-time">
    
<svg aria-hidden="true" class="lucide lucide-calendar-days hi-svg-inline" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v4"/><path d="M16 2v4"/><rect width="18" height="18" x="3" y="4" rx="2"/><path d="M3 10h18"/><path d="M8 14h.01"/><path d="M12 14h.01"/><path d="M16 14h.01"/><path d="M8 18h.01"/><path d="M12 18h.01"/><path d="M16 18h.01"/></svg>
    <time datetime=" 2019-08-25">
      25-08-2019
    </time>


    

  </div>


  <div class="post-meta__right">
    <span class="post-meta-more">
      1278 words -
      6 min read
      </span>

    <div class="post-meta-item post-meta-category">
      
        
          
        <a href="https://19051992.xyz/categories/wag/">wag</a>
        
          
        <a href="https://19051992.xyz/categories/dgplug/">dgplug</a>
        
          
        <a href="https://19051992.xyz/categories/git/">git</a>
    </div>


    
    


    
    
  </div>
</div>

        </header>

        
        <div class="post-content">
          <p>Until now we had done as of following code. We would create couples of more functions which would help us in managing our application. As discussed earlier we would now we creating different directories and files present inside .git directory along with directory itself. More or less we would something like following directory structure after doing <code>wag init</code></p>
<ul>
<li>.git is the git directory itself, which contains:
<ul>
<li>.git/objects/ : the object store, which we’ll introduce in the next section.</li>
<li>.git/refs/ the reference store, which we’ll discuss . It contains two subdirectories, heads and tags.</li>
<li>.git/HEAD, a reference to the current HEAD (more on that later!)</li>
<li>.git/config, the repository’s configuration file.</li>
<li>.git/description, the repository’s description file.</li>
</ul>
</li>
</ul>
<div class="highlight-container">

  <button class="copy-code-btn outline">Copy</button>

  
  <div class="highlight"><div style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-1"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-1"> 1</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-2"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-2"> 2</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-3"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-3"> 3</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-4"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-4"> 4</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-5"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-5"> 5</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-6"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-6"> 6</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-7"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-7"> 7</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-8"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-8"> 8</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-9"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-9"> 9</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-10"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-10">10</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-11"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-11">11</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-12"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-12">12</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-13"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-13">13</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-14"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-14">14</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-15"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-15">15</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-16"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-16">16</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-17"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-17">17</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-18"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-18">18</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-19"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-19">19</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-20"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-20">20</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-21"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-21">21</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-22"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-22">22</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-23"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-23">23</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-24"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-24">24</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-25"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-25">25</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-26"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-26">26</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-27"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-27">27</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-28"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-28">28</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-29"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-29">29</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-30"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-30">30</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-31"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-31">31</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-32"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-32">32</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-33"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-33">33</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-34"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-34">34</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-35"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-35">35</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-36"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-36">36</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-37"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-37">37</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-38"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-38">38</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-39"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-39">39</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-40"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-40">40</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-41"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-41">41</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-42"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-42">42</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-43"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-43">43</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-44"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-44">44</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-45"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-45">45</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-46"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-46">46</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-47"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-47">47</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">import</span> <span style="color:#0e84b5;font-weight:bold">sys</span>
</span></span><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">import</span> <span style="color:#0e84b5;font-weight:bold">argparse</span>
</span></span><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">import</span> <span style="color:#0e84b5;font-weight:bold">os</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>argparser <span style="color:#666">=</span> argparse<span style="color:#666">.</span>ArgumentParser(description<span style="color:#666">=</span><span style="color:#4070a0">&#34;Another Content Tracker&#34;</span>)
</span></span><span style="display:flex;"><span>argsubparsers <span style="color:#666">=</span> argparser<span style="color:#666">.</span>add_subparsers(title<span style="color:#666">=</span><span style="color:#4070a0">&#34;Commands&#34;</span>, dest<span style="color:#666">=</span><span style="color:#4070a0">&#34;command&#34;</span>)
</span></span><span style="display:flex;"><span>argsubparsers<span style="color:#666">.</span>required <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">True</span>
</span></span><span style="display:flex;"><span>argsp <span style="color:#666">=</span> argsubparsers<span style="color:#666">.</span>add_parser(
</span></span><span style="display:flex;"><span>    <span style="color:#4070a0">&#34;init&#34;</span>, help<span style="color:#666">=</span><span style="color:#4070a0">&#34;Initialize a new, empty repository.&#34;</span>)
</span></span><span style="display:flex;"><span>argsp<span style="color:#666">.</span>add_argument(<span style="color:#4070a0">&#34;path&#34;</span>, metavar<span style="color:#666">=</span><span style="color:#4070a0">&#34;directory&#34;</span>, nargs<span style="color:#666">=</span><span style="color:#4070a0">&#34;?&#34;</span>,
</span></span><span style="display:flex;"><span>                   default<span style="color:#666">=</span><span style="color:#4070a0">&#34;.&#34;</span>, help<span style="color:#666">=</span><span style="color:#4070a0">&#34;Where to create the repository.&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">def</span> <span style="color:#06287e">main</span>(argv<span style="color:#666">=</span>sys<span style="color:#666">.</span>argv[<span style="color:#40a070">1</span>:]):
</span></span><span style="display:flex;"><span>    args <span style="color:#666">=</span> argparser<span style="color:#666">.</span>parse_args(argv)
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">if</span> args<span style="color:#666">.</span>command <span style="color:#666">==</span> <span style="color:#4070a0">&#34;init&#34;</span>:
</span></span><span style="display:flex;"><span>        cmd_init(args)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">def</span> <span style="color:#06287e">cmd_init</span>(args):
</span></span><span style="display:flex;"><span>    repo_create(args<span style="color:#666">.</span>path)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">GitRepository</span>(<span style="color:#007020">object</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#4070a0">&#34;&#34;&#34;A git repository&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    worktree <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">None</span>
</span></span><span style="display:flex;"><span>    gitdir <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">None</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">def</span> __init__(self, path, force<span style="color:#666">=</span><span style="color:#007020;font-weight:bold">False</span>):
</span></span><span style="display:flex;"><span>        self<span style="color:#666">.</span>worktree <span style="color:#666">=</span> path
</span></span><span style="display:flex;"><span>        self<span style="color:#666">.</span>gitdir <span style="color:#666">=</span> os<span style="color:#666">.</span>path<span style="color:#666">.</span>join(path, <span style="color:#4070a0">&#34;.git&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">def</span> <span style="color:#06287e">repo_create</span>(path):
</span></span><span style="display:flex;"><span>    <span style="color:#4070a0">&#34;&#34;&#34;Create a new repository at path.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    repo <span style="color:#666">=</span> GitRepository(path)
</span></span><span style="display:flex;"><span>    <span style="color:#60a0b0;font-style:italic"># We check whether there exsits a path of worktree</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">if</span> os<span style="color:#666">.</span>path<span style="color:#666">.</span>exists(repo<span style="color:#666">.</span>worktree):
</span></span><span style="display:flex;"><span>        <span style="color:#60a0b0;font-style:italic"># if path exsits its a directory or not</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007020;font-weight:bold">if</span> <span style="color:#007020;font-weight:bold">not</span> os<span style="color:#666">.</span>path<span style="color:#666">.</span>isdir(repo<span style="color:#666">.</span>worktree):
</span></span><span style="display:flex;"><span>            <span style="color:#007020;font-weight:bold">raise</span> <span style="color:#007020">Exception</span>(<span style="color:#4070a0">&#34;</span><span style="color:#70a0d0">%s</span><span style="color:#4070a0"> is not a directory!&#34;</span> <span style="color:#666">%</span> path)
</span></span><span style="display:flex;"><span>        <span style="color:#60a0b0;font-style:italic"># if path exsits its empty or not</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007020;font-weight:bold">if</span> os<span style="color:#666">.</span>listdir(repo<span style="color:#666">.</span>worktree):
</span></span><span style="display:flex;"><span>            <span style="color:#007020;font-weight:bold">raise</span> <span style="color:#007020">Exception</span>(<span style="color:#4070a0">&#34;</span><span style="color:#70a0d0">%s</span><span style="color:#4070a0"> is not empty!&#34;</span> <span style="color:#666">%</span> path)
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">else</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#60a0b0;font-style:italic"># Create directory as nothing exist with same path</span>
</span></span><span style="display:flex;"><span>        os<span style="color:#666">.</span>makedirs(repo<span style="color:#666">.</span>worktree)</span></span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>Now let&rsquo;s create function which would gives us path of directory after verifying that the directory exist and if it doesn&rsquo;t it should gives us an error. We would also require mechanism to check whether we need to create the directory or not if it doesn&rsquo;t exists.</p>
<div class="highlight-container">

  <button class="copy-code-btn outline">Copy</button>

  
  <div class="highlight"><div style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-1"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-1"> 1</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-2"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-2"> 2</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-3"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-3"> 3</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-4"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-4"> 4</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-5"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-5"> 5</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-6"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-6"> 6</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-7"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-7"> 7</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-8"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-8"> 8</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-9"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-9"> 9</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-10"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-10">10</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-11"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-11">11</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-12"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-12">12</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-13"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-13">13</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-14"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-14">14</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-15"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-15">15</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-16"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-16">16</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-17"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-17">17</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-18"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-18">18</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-19"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-19">19</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-20"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-20">20</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-21"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-21">21</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-22"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-22">22</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-23"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-23">23</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-24"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-24">24</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-25"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-25">25</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-26"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-26">26</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">def</span> <span style="color:#06287e">repo_dir</span>(repo, <span style="color:#666">*</span>path, mkdir<span style="color:#666">=</span><span style="color:#007020;font-weight:bold">False</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#60a0b0;font-style:italic"># repo is for our GitRepository object as we want to work with repository.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#60a0b0;font-style:italic"># *path is the path we want to check</span>
</span></span><span style="display:flex;"><span>    <span style="color:#60a0b0;font-style:italic"># mkdir to specify whether we want to create directory or not.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#60a0b0;font-style:italic"># this function would give us path we want to check if it exist or not</span>
</span></span><span style="display:flex;"><span>    path <span style="color:#666">=</span> repo_path(repo, <span style="color:#666">*</span>path)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#60a0b0;font-style:italic"># This would check whether path exists and if it does then it would check if it is a directory or not</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">if</span> os<span style="color:#666">.</span>path<span style="color:#666">.</span>exists(path):
</span></span><span style="display:flex;"><span>        <span style="color:#007020;font-weight:bold">if</span> (os<span style="color:#666">.</span>path<span style="color:#666">.</span>isdir(path)):
</span></span><span style="display:flex;"><span>            <span style="color:#007020;font-weight:bold">return</span> path
</span></span><span style="display:flex;"><span>        <span style="color:#007020;font-weight:bold">else</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#007020;font-weight:bold">raise</span> <span style="color:#007020">Exception</span>(<span style="color:#4070a0">&#34;Not a directory </span><span style="color:#70a0d0">%s</span><span style="color:#4070a0">&#34;</span> <span style="color:#666">%</span> path)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#60a0b0;font-style:italic"># This would check if we need to create directory as it doesn&#39;t exists</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">if</span> mkdir:
</span></span><span style="display:flex;"><span>        os<span style="color:#666">.</span>makedirs(path)
</span></span><span style="display:flex;"><span>        <span style="color:#007020;font-weight:bold">return</span> path
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">else</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#007020;font-weight:bold">return</span> <span style="color:#007020;font-weight:bold">None</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">def</span> <span style="color:#06287e">repo_path</span>(repo, <span style="color:#666">*</span>path):
</span></span><span style="display:flex;"><span>    <span style="color:#60a0b0;font-style:italic"># This would return us path under repository git directory</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">return</span> os<span style="color:#666">.</span>path<span style="color:#666">.</span>join(repo<span style="color:#666">.</span>gitdir, <span style="color:#666">*</span>path)</span></span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>We have created another <code>repo_path</code> function which is gives us path based on our git directory. Now we would add for these in our <code>repo_create()</code></p>
<div class="highlight-container">

  <button class="copy-code-btn outline">Copy</button>

  
  <div class="highlight"><div style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-1"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-1"> 1</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-2"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-2"> 2</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-3"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-3"> 3</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-4"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-4"> 4</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-5"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-5"> 5</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-6"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-6"> 6</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-7"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-7"> 7</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-8"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-8"> 8</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-9"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-9"> 9</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-10"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-10">10</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-11"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-11">11</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-12"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-12">12</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-13"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-13">13</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-14"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-14">14</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-15"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-15">15</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-16"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-16">16</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-17"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-17">17</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-18"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-18">18</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-19"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-19">19</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-20"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-20">20</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">def</span> <span style="color:#06287e">repo_create</span>(path):
</span></span><span style="display:flex;"><span>    <span style="color:#4070a0">&#34;&#34;&#34;Create a new repository at path.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    repo <span style="color:#666">=</span> GitRepository(path)
</span></span><span style="display:flex;"><span>    <span style="color:#60a0b0;font-style:italic"># We check whether there exists a path of worktree</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">if</span> os<span style="color:#666">.</span>path<span style="color:#666">.</span>exists(repo<span style="color:#666">.</span>worktree):
</span></span><span style="display:flex;"><span>        <span style="color:#60a0b0;font-style:italic"># if path exists its a directory or not</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007020;font-weight:bold">if</span> <span style="color:#007020;font-weight:bold">not</span> os<span style="color:#666">.</span>path<span style="color:#666">.</span>isdir(repo<span style="color:#666">.</span>worktree):
</span></span><span style="display:flex;"><span>            <span style="color:#007020;font-weight:bold">raise</span> <span style="color:#007020">Exception</span>(<span style="color:#4070a0">&#34;</span><span style="color:#70a0d0">%s</span><span style="color:#4070a0"> is not a directory!&#34;</span> <span style="color:#666">%</span> path)
</span></span><span style="display:flex;"><span>        <span style="color:#60a0b0;font-style:italic"># if path exists its empty or not</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007020;font-weight:bold">if</span> os<span style="color:#666">.</span>listdir(repo<span style="color:#666">.</span>worktree):
</span></span><span style="display:flex;"><span>            <span style="color:#007020;font-weight:bold">raise</span> <span style="color:#007020">Exception</span>(<span style="color:#4070a0">&#34;</span><span style="color:#70a0d0">%s</span><span style="color:#4070a0"> is not empty!&#34;</span> <span style="color:#666">%</span> path)
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">else</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#60a0b0;font-style:italic"># Create directory as nothing exist with same path</span>
</span></span><span style="display:flex;"><span>        os<span style="color:#666">.</span>makedirs(repo<span style="color:#666">.</span>worktree)
</span></span><span style="display:flex;"><span>        repo_path(repo, <span style="color:#4070a0">&#34;branches&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">assert</span>(repo_dir(repo, <span style="color:#4070a0">&#34;branches&#34;</span>, mkdir<span style="color:#666">=</span><span style="color:#007020;font-weight:bold">True</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">assert</span>(repo_dir(repo, <span style="color:#4070a0">&#34;objects&#34;</span>, mkdir<span style="color:#666">=</span><span style="color:#007020;font-weight:bold">True</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">assert</span>(repo_dir(repo, <span style="color:#4070a0">&#34;refs&#34;</span>, <span style="color:#4070a0">&#34;tags&#34;</span>, mkdir<span style="color:#666">=</span><span style="color:#007020;font-weight:bold">True</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">assert</span>(repo_dir(repo, <span style="color:#4070a0">&#34;refs&#34;</span>, <span style="color:#4070a0">&#34;heads&#34;</span>, mkdir<span style="color:#666">=</span><span style="color:#007020;font-weight:bold">True</span>))</span></span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>Above would create <code>.git</code> directory with <code>braches</code>, <code>objects</code> and <code>refs</code> directory with <code>tags</code> and <code>heads</code> under it. It would look as follows:</p>
<ul>
<li>.git
<ul>
<li>objects</li>
<li>branches</li>
<li>refs
<ul>
<li>tags</li>
<li>heads</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><code>Assert()</code> helps us to identify that all these directories are created. If there is some issue and we return None from function it would show assertation error.</p>
<p>Besides directories there are few files which are also created when you do a git init, so those also needs to be created when we <code>wag init</code>. Those files are config, HEAD and description others too but for now we would concentrate on these three.</p>
<p>Now these files could be created anywhere and that directory may or may not exist so we would so let&rsquo;s create a function which would create these directories if require. Also lets open description file and write &ldquo;Unnamed repository; edit this file &lsquo;description&rsquo; to name the repository.&rdquo; into that. We need to change this in our <code>repo_create</code> function</p>
<div class="highlight-container">

  <button class="copy-code-btn outline">Copy</button>

  
  <div class="highlight"><div style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-1"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-1"> 1</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-2"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-2"> 2</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-3"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-3"> 3</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-4"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-4"> 4</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-5"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-5"> 5</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-6"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-6"> 6</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-7"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-7"> 7</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-8"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-8"> 8</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-9"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-9"> 9</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-10"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-10">10</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-11"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-11">11</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-12"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-12">12</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-13"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-13">13</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-14"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-14">14</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-15"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-15">15</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-16"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-16">16</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-17"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-17">17</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-18"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-18">18</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-19"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-19">19</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-20"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-20">20</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-21"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-21">21</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-22"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-22">22</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-23"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-23">23</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-24"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-24">24</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-25"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-25">25</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-26"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-26">26</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-27"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-27">27</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">def</span> <span style="color:#06287e">repo_create</span>(path):
</span></span><span style="display:flex;"><span>    <span style="color:#4070a0">&#34;&#34;&#34;Create a new repository at path.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    repo <span style="color:#666">=</span> GitRepository(path)
</span></span><span style="display:flex;"><span>    <span style="color:#60a0b0;font-style:italic"># We check whether there exists a path of worktree</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">if</span> os<span style="color:#666">.</span>path<span style="color:#666">.</span>exists(repo<span style="color:#666">.</span>worktree):
</span></span><span style="display:flex;"><span>        <span style="color:#60a0b0;font-style:italic"># if path exists its a directory or not</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007020;font-weight:bold">if</span> <span style="color:#007020;font-weight:bold">not</span> os<span style="color:#666">.</span>path<span style="color:#666">.</span>isdir(repo<span style="color:#666">.</span>worktree):
</span></span><span style="display:flex;"><span>            <span style="color:#007020;font-weight:bold">raise</span> <span style="color:#007020">Exception</span>(<span style="color:#4070a0">&#34;</span><span style="color:#70a0d0">%s</span><span style="color:#4070a0"> is not a directory!&#34;</span> <span style="color:#666">%</span> path)
</span></span><span style="display:flex;"><span>        <span style="color:#60a0b0;font-style:italic"># if path exists its empty or not</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007020;font-weight:bold">if</span> os<span style="color:#666">.</span>listdir(repo<span style="color:#666">.</span>worktree):
</span></span><span style="display:flex;"><span>            <span style="color:#007020;font-weight:bold">raise</span> <span style="color:#007020">Exception</span>(<span style="color:#4070a0">&#34;</span><span style="color:#70a0d0">%s</span><span style="color:#4070a0"> is not empty!&#34;</span> <span style="color:#666">%</span> path)
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">else</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#60a0b0;font-style:italic"># Create directory as nothing exist with same path</span>
</span></span><span style="display:flex;"><span>        os<span style="color:#666">.</span>makedirs(repo<span style="color:#666">.</span>worktree)
</span></span><span style="display:flex;"><span>        repo_path(repo, <span style="color:#4070a0">&#34;branches&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">assert</span>(repo_dir(repo, <span style="color:#4070a0">&#34;branches&#34;</span>, mkdir<span style="color:#666">=</span><span style="color:#007020;font-weight:bold">True</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">assert</span>(repo_dir(repo, <span style="color:#4070a0">&#34;objects&#34;</span>, mkdir<span style="color:#666">=</span><span style="color:#007020;font-weight:bold">True</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">assert</span>(repo_dir(repo, <span style="color:#4070a0">&#34;refs&#34;</span>, <span style="color:#4070a0">&#34;tags&#34;</span>, mkdir<span style="color:#666">=</span><span style="color:#007020;font-weight:bold">True</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">assert</span>(repo_dir(repo, <span style="color:#4070a0">&#34;refs&#34;</span>, <span style="color:#4070a0">&#34;heads&#34;</span>, mkdir<span style="color:#666">=</span><span style="color:#007020;font-weight:bold">True</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">with</span> <span style="color:#007020">open</span>(repo_file(repo, <span style="color:#4070a0">&#34;description&#34;</span>), <span style="color:#4070a0">&#34;w&#34;</span>) <span style="color:#007020;font-weight:bold">as</span> f:
</span></span><span style="display:flex;"><span>        f<span style="color:#666">.</span>write(<span style="color:#4070a0">&#34;Unnamed repository; edit this file &#39;description&#39; to name the repository.</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">def</span> <span style="color:#06287e">repo_file</span>(repo, <span style="color:#666">*</span>path, mkdir<span style="color:#666">=</span><span style="color:#007020;font-weight:bold">False</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">if</span> repo_dir(repo, <span style="color:#666">*</span>path[:<span style="color:#666">-</span><span style="color:#40a070">1</span>], mkdir<span style="color:#666">=</span>mkdir):
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">return</span> repo_path(repo, <span style="color:#666">*</span>path)</span></span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>For config file we would need to use config parser module which would create a config file in Microsoft’s INI format. So first let&rsquo;s create a function which would create default config. We would need to import this module with below modules.
In default config there are thing fields,</p>
<ul>
<li>repositoryformatversion whose value we would set to 0, for more info visit <a href="https://github.com/git/git/blob/00a09d57eb8a041e6a6b0470c53533719c049bab/Documentation/technical/repository-version.txt">here</a>. Our program would be compatible with only 0 format version only</li>
<li>filemode whose value would be set to false, it disables tacking of file mode changes</li>
<li>bare whose value would be false. It indicates that this repository has a work. Git supports an optional worktree key which indicates location of the worktree, if not <code>..</code>(parent repository)</li>
</ul>
<p>All these keys are under core section so first we would add section and then set this config.</p>
<div class="highlight-container">

  <button class="copy-code-btn outline">Copy</button>

  
  <div class="highlight"><div style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-4-1"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-4-1">1</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-4-2"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-4-2">2</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-4-3"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-4-3">3</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-4-4"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-4-4">4</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-4-5"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-4-5">5</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-4-6"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-4-6">6</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-4-7"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-4-7">7</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-4-8"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-4-8">8</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-4-9"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-4-9">9</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">def</span> <span style="color:#06287e">repo_default_config</span>():
</span></span><span style="display:flex;"><span>    ret <span style="color:#666">=</span> configparser<span style="color:#666">.</span>ConfigParser()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    ret<span style="color:#666">.</span>add_section(<span style="color:#4070a0">&#34;core&#34;</span>)
</span></span><span style="display:flex;"><span>    ret<span style="color:#666">.</span>set(<span style="color:#4070a0">&#34;core&#34;</span>, <span style="color:#4070a0">&#34;repositoryformatversion&#34;</span>, <span style="color:#4070a0">&#34;0&#34;</span>)
</span></span><span style="display:flex;"><span>    ret<span style="color:#666">.</span>set(<span style="color:#4070a0">&#34;core&#34;</span>, <span style="color:#4070a0">&#34;filemode&#34;</span>, <span style="color:#4070a0">&#34;false&#34;</span>)
</span></span><span style="display:flex;"><span>    ret<span style="color:#666">.</span>set(<span style="color:#4070a0">&#34;core&#34;</span>, <span style="color:#4070a0">&#34;bare&#34;</span>, <span style="color:#4070a0">&#34;false&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">return</span> ret</span></span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>Now let&rsquo;s update our <code>repo_create</code> function to create config and Head file.</p>
<div class="highlight-container">

  <button class="copy-code-btn outline">Copy</button>

  
  <div class="highlight"><div style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-1"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-1"> 1</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-2"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-2"> 2</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-3"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-3"> 3</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-4"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-4"> 4</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-5"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-5"> 5</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-6"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-6"> 6</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-7"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-7"> 7</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-8"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-8"> 8</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-9"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-9"> 9</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-10"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-10">10</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-11"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-11">11</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-12"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-12">12</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-13"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-13">13</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-14"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-14">14</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-15"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-15">15</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-16"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-16">16</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-17"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-17">17</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-18"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-18">18</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-19"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-19">19</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-20"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-20">20</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-21"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-21">21</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-22"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-22">22</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-23"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-23">23</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-24"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-24">24</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-25"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-25">25</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-26"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-26">26</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-27"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-27">27</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-28"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-28">28</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-29"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-29">29</a>
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-30"><a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-30">30</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">def</span> <span style="color:#06287e">repo_create</span>(path):
</span></span><span style="display:flex;"><span>    <span style="color:#4070a0">&#34;&#34;&#34;Create a new repository at path.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    repo <span style="color:#666">=</span> GitRepository(path)
</span></span><span style="display:flex;"><span>    <span style="color:#60a0b0;font-style:italic"># We check whether there exsits a path of worktree</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">if</span> os<span style="color:#666">.</span>path<span style="color:#666">.</span>exists(repo<span style="color:#666">.</span>worktree):
</span></span><span style="display:flex;"><span>        <span style="color:#60a0b0;font-style:italic"># if path exsits its a directory or not</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007020;font-weight:bold">if</span> <span style="color:#007020;font-weight:bold">not</span> os<span style="color:#666">.</span>path<span style="color:#666">.</span>isdir(repo<span style="color:#666">.</span>worktree):
</span></span><span style="display:flex;"><span>            <span style="color:#007020;font-weight:bold">raise</span> <span style="color:#007020">Exception</span>(<span style="color:#4070a0">&#34;</span><span style="color:#70a0d0">%s</span><span style="color:#4070a0"> is not a directory!&#34;</span> <span style="color:#666">%</span> path)
</span></span><span style="display:flex;"><span>        <span style="color:#60a0b0;font-style:italic"># if path exsits its empty or not</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007020;font-weight:bold">if</span> os<span style="color:#666">.</span>listdir(repo<span style="color:#666">.</span>worktree):
</span></span><span style="display:flex;"><span>            <span style="color:#007020;font-weight:bold">raise</span> <span style="color:#007020">Exception</span>(<span style="color:#4070a0">&#34;</span><span style="color:#70a0d0">%s</span><span style="color:#4070a0"> is not empty!&#34;</span> <span style="color:#666">%</span> path)
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">else</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#60a0b0;font-style:italic"># Create directory as nothing exist with same path</span>
</span></span><span style="display:flex;"><span>        os<span style="color:#666">.</span>makedirs(repo<span style="color:#666">.</span>worktree)
</span></span><span style="display:flex;"><span>        repo_path(repo, <span style="color:#4070a0">&#34;branches&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">assert</span>(repo_dir(repo, <span style="color:#4070a0">&#34;branches&#34;</span>, mkdir<span style="color:#666">=</span><span style="color:#007020;font-weight:bold">True</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">assert</span>(repo_dir(repo, <span style="color:#4070a0">&#34;objects&#34;</span>, mkdir<span style="color:#666">=</span><span style="color:#007020;font-weight:bold">True</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">assert</span>(repo_dir(repo, <span style="color:#4070a0">&#34;refs&#34;</span>, <span style="color:#4070a0">&#34;tags&#34;</span>, mkdir<span style="color:#666">=</span><span style="color:#007020;font-weight:bold">True</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">assert</span>(repo_dir(repo, <span style="color:#4070a0">&#34;refs&#34;</span>, <span style="color:#4070a0">&#34;heads&#34;</span>, mkdir<span style="color:#666">=</span><span style="color:#007020;font-weight:bold">True</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">with</span> <span style="color:#007020">open</span>(repo_file(repo, <span style="color:#4070a0">&#34;description&#34;</span>), <span style="color:#4070a0">&#34;w&#34;</span>) <span style="color:#007020;font-weight:bold">as</span> f:
</span></span><span style="display:flex;"><span>        f<span style="color:#666">.</span>write(<span style="color:#4070a0">&#34;Unnamed repository; edit this file &#39;description&#39; to name the repository.</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">with</span> <span style="color:#007020">open</span>(repo_file(repo, <span style="color:#4070a0">&#34;HEAD&#34;</span>), <span style="color:#4070a0">&#34;w&#34;</span>) <span style="color:#007020;font-weight:bold">as</span> f:
</span></span><span style="display:flex;"><span>        f<span style="color:#666">.</span>write(<span style="color:#4070a0">&#34;ref: refs/heads/master</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020;font-weight:bold">with</span> <span style="color:#007020">open</span>(repo_file(repo, <span style="color:#4070a0">&#34;config&#34;</span>), <span style="color:#4070a0">&#34;w&#34;</span>) <span style="color:#007020;font-weight:bold">as</span> f:
</span></span><span style="display:flex;"><span>        config <span style="color:#666">=</span> repo_default_config()
</span></span><span style="display:flex;"><span>        config<span style="color:#666">.</span>write(f)</span></span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>This would complete our init method. YAY</p>

        </div>

        
        



        
        


        <footer class="post-footer">
          <div class="post-tags">
              <a href="https://19051992.xyz/tags/wag/">wag</a>
                <a href="https://19051992.xyz/tags/dgplug/">dgplug</a>
                <a href="https://19051992.xyz/tags/git/">git</a>
                
            </div>


          
          <nav class="post-nav">
            
              <a class="prev" href="/blog/convert-excel-to-json/">
                
                <i class="iconfont">
                  
<svg aria-hidden="true" class="lucide lucide-chevron-left hi-svg-inline" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="m15 18-6-6 6-6"/></svg>
                </i>
                <span class="prev-text nav-default">Convert Excel to Json</span>
                <span class="prev-text nav-mobile">Prev</span>
              </a>
            
              <a class="next" href="/blog/another-attempt-at-wag-2/">
                <span class="next-text nav-default">Another Attempt at Wag 2</span>
                <span class="prev-text nav-mobile">Next</span>
                
                <i class="iconfont">
                  
<svg aria-hidden="true" class="lucide lucide-chevron-right hi-svg-inline" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="m9 18 6-6-6-6"/></svg>
                </i>
              </a>
          </nav>
        </footer>
      </article>

      
      


      
      


    </div>

    <aside class="right-sidebar">
      
    </aside>
  </div>
  </main>

  <footer id="footer" class="site-footer">
    <div class="social-icon-links">
  


<a href="https://twitter.com/BhaveshSGupta" rel="me noopener" class="social-icon-link" title="twitter"  target="_blank" >
  
<svg aria-hidden="true" class="icon hi-svg-inline" fill="currentColor" height="1em" version="1.1" viewBox="0 0 1264 1024" width="1em" xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
  <path d="M1229.8616 18.043658c0 0-117.852626 63.135335-164.151872 67.344358-105.225559-164.151872-505.082682-92.598492-437.738325 223.078185C278.622548 312.675223 89.216542 47.506814 89.216542 47.506814s-117.852626 189.406006 75.762402 345.139833C127.097743 396.85567 55.544363 371.601535 55.544363 371.601535S26.081207 535.753407 253.368414 615.724832c-21.045112 29.463156-113.643603 8.418045-113.643603 8.418045s25.254134 143.10676 231.496229 180.987961c-143.10676 130.479693-387.230056 92.598492-370.393967 105.225559 206.242095 189.406006 1119.599946 231.496229 1128.01799-643.98042C1179.353331 249.539887 1263.533778 123.269217 1263.533778 123.269217s-130.479693 37.881201-138.897738 33.672179C1225.652577 98.015083 1229.8616 18.043658 1229.8616 18.043658"></path>
</svg>

</a>
<a href="https://github.com/BhaveshSGupta" rel="me noopener" class="social-icon-link" title="github"  target="_blank" >
  
<svg aria-hidden="true" class="icon hi-svg-inline" fill="currentColor" height="1em" version="1.1" viewBox="0 0 1024 1024" width="1em" xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

</a>
<a href="https://www.linkedin.com/in/bhaveshsgupta/" rel="me noopener" class="social-icon-link" title="linkedin"  target="_blank" >
  
<svg aria-hidden="true" class="icon hi-svg-inline" fill="currentColor" height="1em" version="1.1" viewBox="0 0 1024 1024" width="1em" xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
  <path d="M872.405333 872.618667h-151.637333v-237.610667c0-56.661333-1.152-129.578667-79.018667-129.578667-79.061333 0-91.136 61.653333-91.136 125.397334v241.792H398.976V384h145.664v66.602667h1.962667c20.352-38.4 69.845333-78.933333 143.786666-78.933334 153.642667 0 182.058667 101.12 182.058667 232.746667v268.202667zM227.712 317.141333a87.978667 87.978667 0 0 1-88.021333-88.106666 88.064 88.064 0 1 1 88.021333 88.106666z m76.032 555.477334H151.68V384h152.064v488.618667zM948.266667 0H75.562667C33.792 0 0 33.024 0 73.770667v876.458666C0 991.018667 33.792 1024 75.562667 1024h872.576C989.866667 1024 1024 991.018667 1024 950.229333V73.770667C1024 33.024 989.866667 0 948.138667 0h0.128z"></path>
</svg>

</a>


<a href="https://19051992.xyz/index.xml" rel="noopener alternate" type="application/rss&#43;xml" class="social-icon-link" title="rss"
  target="_blank">
  
<svg aria-hidden="true" class="lucide lucide-rss hi-svg-inline" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M4 11a9 9 0 0 1 9 9"/><path d="M4 4a16 16 0 0 1 16 16"/><circle cx="5" cy="19" r="1"/></svg>
</a>

</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
    2015 -
    2025
    <span class="heart">
      
      <i class="iconfont">
        
<svg aria-hidden="true" class="lucide lucide-heart hi-svg-inline" fill="none" height="1em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
      </i>
    </span><span class="author">
      Bhavesh S. Gupta
      
    </span></span>

  
  

  
</div>

  </footer>

  




<script type="text/javascript" src="/js/main.4879e0f31a488f363f2e3ef953ac274f681884cdce5ef91996c440ef5e7667e3.js" integrity="sha256-SHng8xpIjzY/Lj75U6wnT2gYhM3OXvkZlsRA7152Z&#43;M=" crossorigin="anonymous"></script>




























</body>

</html>
